TODO
-------------------------------------------
-Push the calculations to the vertex shader
-Implement linear interpolation
-Code cleanup